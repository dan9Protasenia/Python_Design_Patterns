# Singleton –≤ Python (–û–¥–∏–Ω–æ—á–∫–∞) 
![image](https://github.com/dan9Protasenia/Python_Design_Patterns/assets/100715839/a0f57bf6-8800-45a1-8c70-119eee19811a)

Singleton - —ç—Ç–æ –ø–æ—Ä–æ–∂–¥–∞—é—â–∏–π —à–∞–±–ª–æ–Ω –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –∫–ª–∞—Å—Å –∏–º–µ–µ—Ç —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä, –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω—É—é —Ç–æ—á–∫—É –¥–æ—Å—Ç—É–ø–∞ –∫ —ç—Ç–æ–º—É —ç–∫–∑–µ–º–ø–ª—è—Ä—É.

## 

–û–¥–∏–Ω–æ—á–∫–∞ –∏–º–µ–µ—Ç —Ç–∞–∫–∏–µ –∂–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–∏, —á—Ç–æ –∏ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ. –ï–≥–æ –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–æ —É–¥–æ–±–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, –Ω–æ –æ–Ω –Ω–∞—Ä—É—à–∞–µ—Ç –º–æ–¥—É–ª—å–Ω–æ—Å—Ç—å –≤–∞—à–µ–≥–æ –∫–æ–¥–∞.

–í—ã –Ω–µ —Å–º–æ–∂–µ—Ç–µ –ø—Ä–æ—Å—Ç–æ –≤–∑—è—Ç—å –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–ª–∞—Å—Å, –∑–∞–≤–∏—Å—è—â–∏–π –æ—Ç –æ–¥–∏–Ω–æ—á–∫–∏ –≤ –¥—Ä—É–≥–æ–π –ø—Ä–æ–≥—Ä–∞–º–º–µ. –î–ª—è —ç—Ç–æ–≥–æ –ø—Ä–∏–¥—ë—Ç—Å—è —ç–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏–µ –æ–¥–∏–Ω–æ—á–∫–∏ –∏ —Ç–∞–º. –ß–∞—â–µ –≤—Å–µ–≥–æ —ç—Ç–∞ –ø—Ä–æ–±–ª–µ–º–∞ –ø—Ä–æ—è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ —é–Ω–∏—Ç-—Ç–µ—Å—Ç–æ–≤.

## –ö–ª—é—á–µ–≤—ã–µ –ö–æ–Ω—Ü–µ–ø—Ü–∏–∏

- **–û–¥–∏–Ω–æ—á–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä**: –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –Ω–∞–ª–∏—á–∏–µ —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ–≥–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –∫–ª–∞—Å—Å–∞.
- **–ì–ª–æ–±–∞–ª—å–Ω–∞—è —Ç–æ—á–∫–∞ –¥–æ—Å—Ç—É–ø–∞**: –£–¥–æ–±–Ω—ã–π —Å–ø–æ—Å–æ–± –¥–æ—Å—Ç—É–ø–∞ –∫ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–º—É —ç–∫–∑–µ–º–ø–ª—è—Ä—É.

<details>
<summary>üîç –ü—Ä–∏–∑–Ω–∞–∫–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –ø–∞—Ç—Ç–µ—Ä–Ω–∞</summary>
–ú–Ω–æ–≥–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç—ã —Å—á–∏—Ç–∞—é—Ç –û–¥–∏–Ω–æ—á–∫—É –∞–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω–æ–º, –ø–æ—ç—Ç–æ–º—É –µ–≥–æ –≤—Å—ë —Ä–µ–∂–µ –∏ —Ä–µ–∂–µ –º–æ–∂–Ω–æ –≤—Å—Ç—Ä–µ—Ç–∏—Ç—å –≤ Python-–∫–æ–¥–µ.

–û–¥–∏–Ω–æ—á–∫—É –º–æ–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–º—É —Å–æ–∑–¥–∞—é—â–µ–º—É –º–µ—Ç–æ–¥—É, –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –æ–±—ä–µ–∫—Ç.
</details>

## –ü—Ä–∏–º–µ—Ä –ö–æ–¥–∞

```python
class SingletonMeta(type):
    """
    –í Python –∫–ª–∞—Å—Å –û–¥–∏–Ω–æ—á–∫–∞ –º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ-—Ä–∞–∑–Ω–æ–º—É. –í–æ–∑–º–æ–∂–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã
    –≤–∫–ª—é—á–∞—é—Ç —Å–µ–±—è –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å, –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä, –º–µ—Ç–∞–∫–ª–∞—Å—Å. –ú—ã –≤–æ—Å–ø–æ–ª—å–∑—É–µ–º—Å—è
    –º–µ—Ç–∞–∫–ª–∞—Å—Å–æ–º, –ø–æ—Å–∫–æ–ª—å–∫—É –æ–Ω –ª—É—á—à–µ –≤—Å–µ–≥–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —ç—Ç–æ–π —Ü–µ–ª–∏.
    """

    _instances = {}

    def __call__(cls, *args, **kwargs):
        """
        –î–∞–Ω–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –Ω–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º—ã—Ö
        –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –≤ `__init__`.
        """
        if cls not in cls._instances:
            instance = super().__call__(*args, **kwargs)
            cls._instances[cls] = instance
        return cls._instances[cls]


class Singleton(metaclass=SingletonMeta):
    def some_business_logic(self):
        """
        –ù–∞–∫–æ–Ω–µ—Ü, –ª—é–±–æ–π –æ–¥–∏–Ω–æ—á–∫–∞ –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—É—é –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É,
        –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –Ω–∞ –µ–≥–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–µ.
        """

        # ...


if __name__ == "__main__":
    # –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫–æ–¥.

    s1 = Singleton()
    s2 = Singleton()

    if id(s1) == id(s2):
        print("Singleton works, both variables contain the same instance.")
    else:
        print("Singleton failed, variables contain different instances.")
```

## –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–æ–º –∫ —Ä–µ—Å—É—Ä—Å—É, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –≤ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–º —ç–∫–∑–µ–º–ø–ª—è—Ä–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä, –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ.
