# Python Design Patterns

 - [Pattern Builder](#pattern-builder-—Å—Ç—Ä–æ–∏—Ç–µ–ª—å-–Ω–∞-python)
 - [Factory Method](#factory-method-—Ñ–∞–±—Ä–∏—á–Ω—ã–π-–º–µ—Ç–æ–¥-–≤-python)
 - [Prototype in Python](#prototype-in-python-–ø—Ä–æ—Ç–æ—Ç–∏–ø-–≤-python)
 - [Singleton –≤ Python](#singleton-–≤-python-–æ–¥–∏–Ω–æ—á–∫–∞)


# Pattern Builder (–°—Ç—Ä–æ–∏—Ç–µ–ª—å –Ω–∞ Python)
![image](https://github.com/dan9Protasenia/Python_Design_Patterns/assets/100715839/b2d21fe9-20ab-476b-aa36-23fc53125b02)

–®–∞–±–ª–æ–Ω–Ω—ã–π –º–µ—Ç–æ–¥ (Pattern Builder) - —ç—Ç–æ –ø–æ—Ä–æ–∂–¥–∞—é—â–∏–π —à–∞–±–ª–æ–Ω –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç—ã —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π, –∏—Å–ø–æ–ª—å–∑—É—è –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –ø—Ä–æ—Ü–µ—Å—Å —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞. –≠—Ç–æ—Ç —à–∞–±–ª–æ–Ω –æ—Ç–¥–µ–ª—è–µ—Ç –∫–æ–Ω—Å—Ç—Ä—É–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ª–æ–∂–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ –æ—Ç –µ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–¥–Ω–æ–º—É –∏ —Ç–æ–º—É –∂–µ –ø—Ä–æ—Ü–µ—Å—Å—É –∫–æ–Ω—Å—Ç—Ä—É–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞.

<details>
<summary>üîç –ü—Ä–∏–∑–Ω–∞–∫–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –ø–∞—Ç—Ç–µ—Ä–Ω–∞</summary>
 
```
–°—Ç—Ä–æ–∏—Ç–µ–ª—è –º–æ–∂–Ω–æ —É–∑–Ω–∞—Ç—å –≤ –∫–ª–∞—Å—Å–µ, –∫–æ—Ç–æ—Ä—ã–π –∏–º–µ–µ—Ç –æ–¥–∏–Ω —Å–æ–∑–¥–∞—é—â–∏–π –º–µ—Ç–æ–¥ –∏
–Ω–µ—Å–∫–æ–ª—å–∫–æ –º–µ—Ç–æ–¥–æ–≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ–∑–¥–∞–≤–∞–µ–º–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞. –û–±—ã—á–Ω–æ, –º–µ—Ç–æ–¥—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
–≤—ã–∑—ã–≤–∞—é—Ç –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ —Ü–µ–ø–æ—á–∫–æ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, someBuilder.setValueA(1).setValueB(2).create()).
 ```
</details>

### –°—Ö–µ–º–∞
![–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ](https://github.com/dan9Protasenia/Python_Design_Patterns/assets/100715839/e965f39b-b45a-46dd-a674-7cf51b39cc95)

### –ü—Ä–∏–º–µ—Ä –Ω–∞ Python

–î–æ–ø—É—Å—Ç–∏–º, —É –Ω–∞—Å –µ—Å—Ç—å –∫–ª–∞—Å—Å `House`, –∫–æ—Ç–æ—Ä—ã–π –º—ã —Ö–æ—Ç–∏–º —Å—Ç—Ä–æ–∏—Ç—å. –£ –¥–æ–º–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞–∑–ª–∏—á–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç—Ç–∞–∂–µ–π, –æ–∫–æ–Ω –∏ –¥–≤–µ—Ä–µ–π. –î–∞–≤–∞–π—Ç–µ —Å–æ–∑–¥–∞–¥–∏–º –∫–ª–∞—Å—Å—ã –¥–ª—è —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞ –¥–æ–º–∞ –∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å—Ç—Ä–æ–∏—Ç–µ–ª–µ–π:


<details>
<summary>–∫–æ–¥</summary>
 
```python
class House:
    def __init__(self):
        self.floor = None
        self.windows = None
        self.doors = None

    def __str__(self):
        return f"–î–æ–º —Å {self.floor} —ç—Ç–∞–∂–∞–º–∏, {self.windows} –æ–∫–Ω–∞–º–∏ –∏ {self.doors} –¥–≤–µ—Ä—å–º–∏"


class HouseBuilder:
    def __init__(self):
        self.house = House()

    def build_floor(self):
        pass

    def build_windows(self):
        pass

    def build_doors(self):
        pass

    def get_house(self):
        return self.house


class OneFloorHouseBuilder(HouseBuilder):
    def build_floor(self):
        self.house.floor = 1

    def build_windows(self):
        self.house.windows = 2

    def build_doors(self):
        self.house.doors = 1


class TwoFloorHouseBuilder(HouseBuilder):
    def build_floor(self):
        self.house.floor = 2

    def build_windows(self):
        self.house.windows = 4

    def build_doors(self):
        self.house.doors = 2
```

–¢–µ–ø–µ—Ä—å —Å–æ–∑–¥–∞–¥–∏–º –∫–ª–∞—Å—Å `HouseDirector`, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç—Ä–æ–∏—Ç–µ–ª–µ–π –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –¥–æ–º–∞:

```python
class HouseDirector:
    def __init__(self, builder):
        self.builder = builder

    def construct_house(self):
        self.builder.build_floor()
        self.builder.build_windows()
        self.builder.build_doors()

    def get_house(self):
        return self.builder.get_house()
```

–¢–µ–ø–µ—Ä—å –º–æ–∂–µ–º —Å–æ–∑–¥–∞—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ç–∏–ø—ã –¥–æ–º–æ–≤, –∏—Å–ø–æ–ª—å–∑—É—è —Ä–∞–∑–Ω—ã–µ —Å—Ç—Ä–æ–∏—Ç–µ–ª–µ–π:

```python
builder = OneFloorHouseBuilder()
director = HouseDirector(builder)
director.construct_house()
house = director.get_house()
print(house)

builder = TwoFloorHouseBuilder()
director = HouseDirector(builder)
director.construct_house()
house = director.get_house()
print(house)
```

–≠—Ç–æ—Ç –∫–æ–¥ —Å–æ–∑–¥–∞—Å—Ç –¥–≤–∞ —Ä–∞–∑–Ω—ã—Ö –¥–æ–º–∞: –æ–¥–∏–Ω —Å –æ–¥–Ω–∏–º —ç—Ç–∞–∂–æ–º –∏ –¥—Ä—É–≥–æ–π —Å –¥–≤—É–º—è —ç—Ç–∞–∂–∞–º–∏.

</details>


## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–®–∞–±–ª–æ–Ω Builder –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–º —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–ª–æ–∂–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è–º–∏, –Ω–µ –∑–∞–≥—Ä–æ–º–æ–∂–¥–∞—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã –∫–ª–∞—Å—Å–æ–≤ –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤. –û–Ω —Å–ø–æ—Å–æ–±—Å—Ç–≤—É–µ—Ç –±–æ–ª–µ–µ —á–∏—Å—Ç–æ–º—É –∏ —É–ø—Ä–∞–≤–ª—è–µ–º–æ–º—É –∫–æ–¥—É.


# Factory Method (–§–∞–±—Ä–∏—á–Ω—ã–π –ú–µ—Ç–æ–¥ –≤ Python)
![image](https://github.com/dan9Protasenia/Python_Design_Patterns/assets/100715839/13dd9d73-c4e4-4983-b3da-81a053458030)

–§–∞–±—Ä–∏—á–Ω—ã–π –º–µ—Ç–æ–¥ - —ç—Ç–æ –ø–æ—Ä–æ–∂–¥–∞—é—â–∏–π —à–∞–±–ª–æ–Ω –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ –≤ —Å—É–ø–µ—Ä–∫–ª–∞—Å—Å–µ, –Ω–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–¥–∫–ª–∞—Å—Å–∞–º –∏–∑–º–µ–Ω—è—Ç—å —Ç–∏–ø —Å–æ–∑–¥–∞–≤–∞–µ–º—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞

1. **–ü—Ä–æ–¥—É–∫—Ç (`Product`)**: –û–±—ä—è–≤–ª—è–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ–±—ä–µ–∫—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–∑–¥–∞—é—Ç—Å—è —Å –ø–æ–º–æ—â—å—é —Ñ–∞–±—Ä–∏—á–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞.
2. **–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ü—Ä–æ–¥—É–∫—Ç—ã (`Concrete Products`)**: –†–µ–∞–ª–∏–∑—É—é—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä–æ–¥—É–∫—Ç–∞.
3. **–°–æ–∑–¥–∞—Ç–µ–ª—å (`Creator`)**: –û–±—ä—è–≤–ª—è–µ—Ç —Ñ–∞–±—Ä–∏—á–Ω—ã–π –º–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç —Ç–∏–ø–∞ Product.
4. **–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –°–æ–∑–¥–∞—Ç–µ–ª–∏ (`Concrete Creators`)**: –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—é—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é —Ñ–∞–±—Ä–∏—á–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤.

<details>
<summary>üîç –ü—Ä–∏–∑–Ω–∞–∫–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –ø–∞—Ç—Ç–µ—Ä–Ω–∞</summary>
 
 ```
–§–∞–±—Ä–∏—á–Ω—ã–π –º–µ—Ç–æ–¥ –º–æ–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø–æ —Å–æ–∑–¥–∞—é—â–∏–º –º–µ—Ç–æ–¥–∞–º, –∫–æ—Ç–æ—Ä—ã–µ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –æ–±—ä–µ–∫—Ç—ã
–ø—Ä–æ–¥—É–∫—Ç–æ–≤ —á–µ—Ä–µ–∑ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–µ —Ç–∏–ø—ã –∏–ª–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—Ç—å —Ç–∏–ø—ã
—Å–æ–∑–¥–∞–≤–∞–µ–º—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –≤ –ø–æ–¥–∫–ª–∞—Å—Å–∞—Ö.
```
</details>

## –°—Ö–µ–º–∞
![–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ](https://github.com/dan9Protasenia/Python_Design_Patterns/assets/100715839/6114ae54-8f3e-41de-93cc-e414975c4ef1)

<details>
<summary>–ü—Ä–∏–º–µ—Ä –ö–æ–¥–∞</summary>

```python
class Product:
    def operation(self):
        pass

class ConcreteProductA(Product):
    def operation(self):
        return "–†–µ–∑—É–ª—å—Ç–∞—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏ ConcreteProductA"

class ConcreteProductB(Product):
    def operation(self):
        return "–†–µ–∑—É–ª—å—Ç–∞—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏ ConcreteProductB"

class Creator:
    def factory_method(self):
        pass

    def some_operation(self):
        product = self.factory_method()
        result = f"Creator: —Ç–æ—Ç –∂–µ –∫–æ–¥ —Å–æ–∑–¥–∞—Ç–µ–ª—è —Ä–∞–±–æ—Ç–∞–µ—Ç —Å {product.operation()}"
        return result

class ConcreteCreatorA(Creator):
    def factory_method(self):
        return ConcreteProductA()

class ConcreteCreatorB(Creator):
    def factory_method(self):
        return ConcreteProductB()
```
</details>

---
–§–∞–±—Ä–∏—á–Ω—ã–π –º–µ—Ç–æ–¥ –∑–∞–¥–∞—ë—Ç –º–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π —Å–ª–µ–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–º–µ—Å—Ç–æ –≤—ã–∑–æ–≤–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ new –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤-–ø—Ä–æ–¥—É–∫—Ç–æ–≤. –ü–æ–¥–∫–ª–∞—Å—Å—ã –º–æ–≥—É—Ç –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —ç—Ç–æ—Ç –º–µ—Ç–æ–¥, —á—Ç–æ–±—ã –∏–∑–º–µ–Ω—è—Ç—å —Ç–∏–ø —Å–æ–∑–¥–∞–≤–∞–µ–º—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤.

# Prototype in Python (–ü—Ä–æ—Ç–æ—Ç–∏–ø –≤ Python)
![image](https://github.com/dan9Protasenia/Python_Design_Patterns/assets/100715839/c3efdfe3-de01-405a-8bce-1647d992e438)

–ü—Ä–æ—Ç–æ—Ç–∏–ø - —ç—Ç–æ –ø–æ—Ä–æ–∂–¥–∞—é—â–∏–π —à–∞–±–ª–æ–Ω –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç—ã, –Ω–µ –≤–¥–∞–≤–∞—è—Å—å –≤ –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –∏—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.

## –û—Å–Ω–æ–≤–Ω—ã–µ –ü–æ–Ω—è—Ç–∏—è

1. **–ü—Ä–æ—Ç–æ—Ç–∏–ø (`Prototype`)**: –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Å–∞–º–æ–≥–æ —Å–µ–±—è.
2. **–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ü—Ä–æ—Ç–æ—Ç–∏–ø (`Concrete Prototype`)**: –†–µ–∞–ª–∏–∑—É–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏—é –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è.
3. **–ö–ª–∏–µ–Ω—Ç (`Client`)**: –°–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç, –æ–±—Ä–∞—â–∞—è—Å—å –∫ –ø—Ä–æ—Ç–æ—Ç–∏–ø—É —Å –∑–∞–ø—Ä–æ—Å–æ–º –Ω–∞ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ.

<details>
<summary>üîç –ü—Ä–∏–∑–Ω–∞–∫–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –ø–∞—Ç—Ç–µ—Ä–Ω–∞</summary>

 ```
–ü—Ä–æ—Ç–æ—Ç–∏–ø —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≤ –±–∞–∑–æ–≤–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–µ Python –ø–æ—Å—Ä–µ–¥—Å—Ç–≤–æ–º –º–æ–¥—É–ª—è copy.
  
–ü—Ä–æ—Ç–æ—Ç–∏–ø –ª–µ–≥–∫–æ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –≤ –∫–æ–¥–µ –ø–æ –Ω–∞–ª–∏—á–∏—é –º–µ—Ç–æ–¥–æ–≤ "clone, copy" –∏ –ø—Ä–æ—á–∏—Ö.
```
</details>


### –°—Ö–µ–º–∞
![–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ](https://github.com/dan9Protasenia/Python_Design_Patterns/assets/100715839/afd55179-5138-45c9-9556-3b33cd2dda4c)

<details>
<summary>–ü—Ä–∏–º–µ—Ä –ö–æ–¥–∞</summary>

```python
import copy

class Prototype:
    def clone(self):
        pass

class ConcretePrototype(Prototype):
    def __init__(self, field):
        self.field = field

    def clone(self):
        return copy.deepcopy(self)

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
original = ConcretePrototype("ABC")
clone = original.clone()
```
</details>

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ
–í—Å–µ –∫–ª–∞—Å—Å—ã‚Äî–ü—Ä–æ—Ç–æ—Ç–∏–ø—ã –∏–º–µ—é—Ç –æ–±—â–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å. –ü–æ—ç—Ç–æ–º—É –≤—ã –º–æ–∂–µ—Ç–µ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç—ã, –Ω–µ –æ–±—Ä–∞—â–∞—è –≤–Ω–∏–º–∞–Ω–∏—è –Ω–∞ –∏—Ö –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ç–∏–ø—ã –∏ –≤—Å–µ–≥–¥–∞ –±—ã—Ç—å —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ –ø–æ–ª—É—á–∏—Ç–µ —Ç–æ—á–Ω—É—é –∫–æ–ø–∏—é. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å–∞–º–∏–º –æ–±—ä–µ–∫—Ç–æ–º-–ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–º, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –µ–º—É —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –≤—Å–µ—Ö –ø–æ–ª–µ–π, –¥–∞–∂–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö.

# Singleton –≤ Python (–û–¥–∏–Ω–æ—á–∫–∞) 
![image](https://github.com/dan9Protasenia/Python_Design_Patterns/assets/100715839/a0f57bf6-8800-45a1-8c70-119eee19811a)

Singleton - —ç—Ç–æ –ø–æ—Ä–æ–∂–¥–∞—é—â–∏–π —à–∞–±–ª–æ–Ω –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –∫–ª–∞—Å—Å –∏–º–µ–µ—Ç —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä, –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω—É—é —Ç–æ—á–∫—É –¥–æ—Å—Ç—É–ø–∞ –∫ —ç—Ç–æ–º—É —ç–∫–∑–µ–º–ø–ª—è—Ä—É.

## 

–û–¥–∏–Ω–æ—á–∫–∞ –∏–º–µ–µ—Ç —Ç–∞–∫–∏–µ –∂–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–∏, —á—Ç–æ –∏ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ. –ï–≥–æ –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–æ —É–¥–æ–±–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, –Ω–æ –æ–Ω –Ω–∞—Ä—É—à–∞–µ—Ç –º–æ–¥—É–ª—å–Ω–æ—Å—Ç—å –≤–∞—à–µ–≥–æ –∫–æ–¥–∞.

–í—ã –Ω–µ —Å–º–æ–∂–µ—Ç–µ –ø—Ä–æ—Å—Ç–æ –≤–∑—è—Ç—å –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–ª–∞—Å—Å, –∑–∞–≤–∏—Å—è—â–∏–π –æ—Ç –æ–¥–∏–Ω–æ—á–∫–∏ –≤ –¥—Ä—É–≥–æ–π –ø—Ä–æ–≥—Ä–∞–º–º–µ. –î–ª—è —ç—Ç–æ–≥–æ –ø—Ä–∏–¥—ë—Ç—Å—è —ç–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏–µ –æ–¥–∏–Ω–æ—á–∫–∏ –∏ —Ç–∞–º. –ß–∞—â–µ –≤—Å–µ–≥–æ —ç—Ç–∞ –ø—Ä–æ–±–ª–µ–º–∞ –ø—Ä–æ—è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ —é–Ω–∏—Ç-—Ç–µ—Å—Ç–æ–≤.

## –ö–ª—é—á–µ–≤—ã–µ –ö–æ–Ω—Ü–µ–ø—Ü–∏–∏

- **–û–¥–∏–Ω–æ—á–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä**: –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –Ω–∞–ª–∏—á–∏–µ —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ–≥–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –∫–ª–∞—Å—Å–∞.
- **–ì–ª–æ–±–∞–ª—å–Ω–∞—è —Ç–æ—á–∫–∞ –¥–æ—Å—Ç—É–ø–∞**: –£–¥–æ–±–Ω—ã–π —Å–ø–æ—Å–æ–± –¥–æ—Å—Ç—É–ø–∞ –∫ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–º—É —ç–∫–∑–µ–º–ø–ª—è—Ä—É.


<details>
<summary>üîç –ü—Ä–∏–∑–Ω–∞–∫–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –ø–∞—Ç—Ç–µ—Ä–Ω–∞</summary>

 ```
–ú–Ω–æ–≥–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç—ã —Å—á–∏—Ç–∞—é—Ç –û–¥–∏–Ω–æ—á–∫—É –∞–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω–æ–º, –ø–æ—ç—Ç–æ–º—É –µ–≥–æ –≤—Å—ë —Ä–µ–∂–µ –∏ —Ä–µ–∂–µ –º–æ–∂–Ω–æ –≤—Å—Ç—Ä–µ—Ç–∏—Ç—å –≤ Python-–∫–æ–¥–µ.

–û–¥–∏–Ω–æ—á–∫—É –º–æ–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–º—É —Å–æ–∑–¥–∞—é—â–µ–º—É –º–µ—Ç–æ–¥—É, –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –æ–±—ä–µ–∫—Ç.
```
</details>

### –°—Ö–µ–º–∞
![–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ](https://github.com/dan9Protasenia/Python_Design_Patterns/assets/100715839/31c3c2b9-20e3-441d-9e9b-52c68743e91e)

<details>
<summary>–ü—Ä–∏–º–µ—Ä –ö–æ–¥–∞</summary>

```python
class SingletonMeta(type):
    """
    –í Python –∫–ª–∞—Å—Å –û–¥–∏–Ω–æ—á–∫–∞ –º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ-—Ä–∞–∑–Ω–æ–º—É. –í–æ–∑–º–æ–∂–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã
    –≤–∫–ª—é—á–∞—é—Ç —Å–µ–±—è –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å, –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä, –º–µ—Ç–∞–∫–ª–∞—Å—Å. –ú—ã –≤–æ—Å–ø–æ–ª—å–∑—É–µ–º—Å—è
    –º–µ—Ç–∞–∫–ª–∞—Å—Å–æ–º, –ø–æ—Å–∫–æ–ª—å–∫—É –æ–Ω –ª—É—á—à–µ –≤—Å–µ–≥–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —ç—Ç–æ–π —Ü–µ–ª–∏.
    """

    _instances = {}

    def __call__(cls, *args, **kwargs):
        """
        –î–∞–Ω–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –Ω–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º—ã—Ö
        –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –≤ `__init__`.
        """
        if cls not in cls._instances:
            instance = super().__call__(*args, **kwargs)
            cls._instances[cls] = instance
        return cls._instances[cls]


class Singleton(metaclass=SingletonMeta):
    def some_business_logic(self):
        """
        –ù–∞–∫–æ–Ω–µ—Ü, –ª—é–±–æ–π –æ–¥–∏–Ω–æ—á–∫–∞ –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—É—é –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É,
        –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –Ω–∞ –µ–≥–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–µ.
        """

        # ...


if __name__ == "__main__":
    # –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫–æ–¥.

    s1 = Singleton()
    s2 = Singleton()

    if id(s1) == id(s2):
        print("Singleton works, both variables contain the same instance.")
    else:
        print("Singleton failed, variables contain different instances.")
```
</details>

## –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–æ–º –∫ —Ä–µ—Å—É—Ä—Å—É, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –≤ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–º —ç–∫–∑–µ–º–ø–ª—è—Ä–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä, –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ.
